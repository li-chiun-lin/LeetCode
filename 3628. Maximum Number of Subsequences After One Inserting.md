# Medium

You are given a string $s$ consisting of uppercase English letters.

You are allowed to insert at most one uppercase English letter at any position (including the beginning or end) of the string.

Return the maximum number of "LCT" subsequences that can be formed in the resulting string after at most one insertion.

```cpp
class Solution {
public:
    long long numOfSubsequences(string s) {
        // Step 1: Count total number of 'T' characters in the entire string
        long long totalT = count(begin(s), end(s), 'T');

        // Initialize counters:
        long long countL = 0;         // Number of 'L' seen so far
        long long countC = 0;         // Number of 'C' seen so far
        long long lcPairs = 0;        // Number of "L...C" pairs
        long long ctPairs = 0;        // Number of "C...T" pairs
        long long lctTriplets = 0;    // Base result: Number of "L...C...T" triplets
        long long maxExtraTriplet = 0; // Maximum gain by inserting a 'C' optimally
        long long seenT = 0;          // Number of 'T's seen so far during traversal

        // Step 2: Traverse the string and update counts
        for (char ch : s) {
            // Try to update the best gain we could get by inserting a 'C' at current position
            // i.e., all previous 'L' can pair with all future 'T'
            maxExtraTriplet = max(maxExtraTriplet, countL * (totalT - seenT));

            if (ch == 'L') {
                countL++;
            } else if (ch == 'C') {
                countC++;
                lcPairs += countL;       // Every 'L' before this 'C' forms an "L...C" pair
            } else if (ch == 'T') {
                lctTriplets += lcPairs;  // Every previous "L...C" pair can now form an "L...C...T" triplet
                ctPairs += countC;       // Every 'C' before this 'T' forms a "C...T" pair
                seenT++;
            }
        }

        // Final check to ensure we consider last opportunity to place a 'C'
        maxExtraTriplet = max(maxExtraTriplet, countL * (totalT - seenT));

        // Return base "LCT" triplets plus the best additional gain via insert or reordering
        return lctTriplets + max({0LL, lcPairs, ctPairs, maxExtraTriplet});
    }
};
```
