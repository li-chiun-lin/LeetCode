# Medium

You are given an integer array $nums$.

For each element $nums[i]$, you may perform the following operations any number of times (including zero):

- Increase $nums[i]$ by $1$, or
- Decrease $nums[i]$ by $1$.

A number is called a binary palindrome if its binary representation without leading zeros reads the same forward and backward.

Your task is to return an integer array $ans$, where $ans[i]$ represents the minimum number of operations required to convert $nums[i]$ into a binary palindrome.

```cpp
class Solution {
    int inv(int x)
    {
        int y = x;

        while (x)
        {
            y <<= 1;
            y |= x & 1;
            x >>= 1;
        }

        return y;
    }

    int inv(int x, int m)
    {
        int y = (x << 1) | m;

        while (x)
        {
            y <<= 1;
            y |= x & 1;
            x >>= 1;
        }

        return y;
    }
    
public:
    vector<int> minOperations(vector<int>& nums) {
        vector<int> p = {1};
        int ub = 1 << 6;

        for (int i = 1; i <= ub; ++i)
        {
            p.push_back(inv(i));
            p.push_back(inv(i, 0));
            p.push_back(inv(i, 1));
        }

        sort(begin(p), end(p));

        for (auto& x : nums)
        {
            auto it = lower_bound(begin(p), end(p), x);

            int d1 = it == end(p) ? INT_MAX : *it - x;
            int d2 = it == begin(p) ? INT_MAX : x - *prev(it);

            x = min(d1, d2);
        }

        return nums;
    }
};
```
