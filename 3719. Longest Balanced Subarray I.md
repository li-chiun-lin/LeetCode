# Medium

You are given an integer array $nums$.

A subarray is called balanced if the number of distinct even numbers in the subarray is equal to the number of distinct odd numbers.

Return the length of the longest balanced subarray.

```cpp
class Solution
{
public:
    int longestBalanced(vector<int>& nums)
    {
        int n = nums.size();
        int ans = 0;

        for (int i = 0; i < n; ++i)
        {
            vector<unordered_set<int>> cnt(2);

            for (int j = i; j < n; ++j)
            {
                // Insert the number into the correct set based on its parity
                cnt[nums[j] % 2].insert(nums[j]);

                // If distinct even and odd counts match, update the answer
                if (cnt[0].size() == cnt[1].size())
                    ans = max(ans, j - i + 1);
            }
        }

        return ans;
    }
};
```
