# Medium

You are given an integer array $nums$ and an integer $target$.

Return the number of subarrays of $nums$ in which $target$ is the majority element.

```cpp
class Solution {
public:
    int countMajoritySubarrays(vector<int>& nums, int target) {
        int n = size(nums);
        vector<int> pref(n + 1);
        int ans = 0;

        for (int i = 0; i < n; ++i)
            pref[i + 1] = pref[i] + (nums[i] == target ? 1 : 0);

        for (int i = 0; i < n; ++i)
            for (int j = 0; j <= i; ++j)
            {
                int len = i - j + 1;
                int cnt = pref[i + 1] - pref[j];

                if (cnt * 2 > len)
                    ++ ans;
            }

        return ans;
    }
};
```
