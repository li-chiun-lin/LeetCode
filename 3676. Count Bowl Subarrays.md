# Medium

You are given an integer array $nums$ with distinct elements.

A subarray $nums[l...r]$ of $nums$ is called a bowl if:

- The subarray has length at least 3. That is, $r - l + 1 \geq 3$.
- The minimum of its two ends is strictly greater than the maximum of all elements in between. That is, $\min(nums[l], nums[r]) > \max(nums[l + 1], ..., nums[r - 1])$.

Return the number of bowl subarrays in $nums$.

```cpp
class Solution {
public:
    long long bowlSubarrays(vector<int>& nums) {
        long long bowlCount = 0;
        stack<int> increasingStack;  // Indices sorted by increasing height values
        
        for (int rightPeakIdx = 0; rightPeakIdx < nums.size(); rightPeakIdx++) {
            // Process all elements that are smaller than current element
            while (!increasingStack.empty() && 
                   nums[increasingStack.top()] < nums[rightPeakIdx]) {
                
                int valleyIdx = increasingStack.top();
                increasingStack.pop();
                
                // Check if we can form a bowl pattern
                if (!increasingStack.empty()) {
                    int leftPeakIdx = increasingStack.top();
                    
                    // Valid bowl: nums[leftPeakIdx] >= nums[valleyIdx] < nums[rightPeakIdx]
                    bowlCount++;
                    
                    // Optional: Store the actual bowl if needed
                    // Bowl subarray: [leftPeakIdx, valleyIdx, rightPeakIdx]
                }
            }
            
            increasingStack.push(rightPeakIdx);
        }
        
        return bowlCount;
    }
};
```
