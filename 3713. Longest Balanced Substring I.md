# Medium

You are given a string $s$ consisting of lowercase English letters.

A substring of $s$ is called balanced if all distinct characters in the substring appear the same number of times.

Return the length of the longest balanced substring of $s$.

```cpp
class Solution {
    bool is_balanced(map<char, int>& cnt)
    {
        int c = -1;

        for (auto [k, v] : cnt)
        {
            if (v == 0)
                continue;
            
            if (c == -1)
                c = v;
            else if (c != v)
                return false;
        }

        return true;
    }
    
public:
    int longestBalanced(string s) {
        map<char, int> cnt;
        int n = size(s);
        int ans = 1;

        for (char c : s)
            ++ cnt[c];

        for (int i = 0; i < n; ++i)
        {
            map<char, int> cnt2 = cnt;

            for (int j = n - 1; j > i; --j)
            {
                if (is_balanced(cnt2))
                {
                    ans = max(ans, j - i + 1);
                    break;
                }

                -- cnt2[s[j]];
            }
            
            -- cnt[s[i]];
        }

        return ans;
    }
};
```
