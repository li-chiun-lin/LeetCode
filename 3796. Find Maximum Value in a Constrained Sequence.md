# Medium

You are given an integer $n$, a 2D integer array $restrictions$, and an integer array $diff$ of length $n - 1$. Your task is to construct a sequence of length $n$, denoted by $a[0], a[1], ..., a[n - 1]$, such that it satisfies the following conditions:

- $a[0]$ is 0.
- All elements in the sequence are non-negative.
- For every index $i$ $(0 \leq i \leq n - 2), abs(a[i] - a[i + 1]) \leq diff[i]$.
- For each $restrictions[i] = [idx, maxVal]$, the value at position $idx$ in the sequence must not exceed $maxVal$.

Your goal is to construct a valid sequence that maximizes the largest value within the sequence while satisfying all the above conditions.

Return an integer denoting the largest value present in such an optimal sequence.

```cpp
class Solution {
public:
    int findMaxVal(int n, vector<vector<int>>& restrictions, vector<int>& diff) {
        vector<int> a(n, INT_MAX);
        a[0] = 0;

        for (auto& r : restrictions)
            a[r[0]] = r[1];

        for (int i = 0; i < n - 1; ++i)
            a[i + 1] = min(a[i + 1], a[i] + diff[i]);
        
        for (int i = n - 2; i >= 0; --i)
            a[i] = min(a[i], a[i + 1] + diff[i]);

        return *max_element(begin(a), end(a));
    }
};
```
